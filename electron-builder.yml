$schema: https://raw.githubusercontent.com/electron-userland/electron-builder/master/packages/app-builder-lib/scheme.json
appId: com.github.woorld.defeatfit
asar: true
productName: DefeatFit
directories:
  output: dist/release/${version}
files:
  - dist/main
  - dist/renderer
  - "!node_modules"
extraResources:
  - from: dist/app.db
    to: .
  - from: dist/license
    to: license
  - from: prisma/generated/query_engine-windows.dll.node
    to: .prisma/client/query_engine-windows.dll.node # NOTE: .prisma/client配下にクエリエンジンを置かないと検知されない
win:
  target:
    - target: nsis
      arch:
        - x64
  artifactName: ${productName}_${version}_Setup.${ext}
  publish:
    provider: github
    owner: woorld
    repo: defeat-fit
nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  deleteAppDataOnUninstall: false
electronLanguages:
  - ja
  - en-US
icon: "src/assets/icon.ico"
